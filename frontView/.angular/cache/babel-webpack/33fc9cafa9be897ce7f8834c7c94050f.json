{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { baseUrl } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"ngx-spinner\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\n\nfunction ProfileEditorComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtext(1, \" Your Name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfileEditorComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtext(1, \" Gender is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfileEditorComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtext(1, \" Profile Picture is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfileEditorComponent_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtext(1, \" Location is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfileEditorComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtext(1, \" Password is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfileEditorComponent_div_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtext(1, \" Confirm Password is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let ProfileEditorComponent = /*#__PURE__*/(() => {\n  class ProfileEditorComponent {\n    constructor(userService, route, router, toastr, spinner) {\n      this.userService = userService;\n      this.route = route;\n      this.router = router;\n      this.toastr = toastr;\n      this.spinner = spinner;\n      this.userImage = `${baseUrl}`;\n    }\n\n    ngOnInit() {\n      this.userService.currentUser().subscribe(result => {\n        this.userData = result; // console.log(this.userData)\n        // console.log(this.userData.data._id)\n\n        this.profileEditForm = new FormGroup({\n          user_name: new FormControl(`${this.userData.data.user_name}`, [Validators.required]),\n          // user_email: new FormControl(`${this.userData.data.user_email}`,[Validators.required, Validators.email]),\n          user_gender: new FormControl(`${this.userData.data.user_gender}`, [Validators.required]),\n          user_profile: new FormControl(``, [Validators.required]),\n          user_location: new FormControl(`${this.userData.data.user_location}`, [Validators.required]),\n          user_password: new FormControl(``, [Validators.required]),\n          confirm_password: new FormControl(false)\n        });\n      });\n    } // upload(event: any) {\n    //   this.file = event.target.files[0]\n    //   console.log(this.file)\n    // };\n\n\n    readURL(event) {\n      this.tempImagePage = event.target.files[0]; // alert(this.tempImagePage)\n\n      if (event.target.files && event.target.files[0]) {\n        const file = event.target.files[0];\n        const reader = new FileReader();\n\n        reader.onload = e => this.file = reader.result;\n\n        reader.readAsDataURL(file);\n      }\n    }\n\n    update() {\n      try {\n        this.id = this.userData.data._id; // console.log(this.id)\n\n        let user_data = new FormData();\n        user_data.append(\"user_name\", this.profileEditForm.value.user_name); // user_data.append(\"user_email\",this.profileEditForm.value.user_email)\n\n        user_data.append(\"user_gender\", this.profileEditForm.value.user_gender);\n        user_data.append(\"testimage\", this.tempImagePage);\n        user_data.append(\"user_location\", this.profileEditForm.value.user_location);\n        user_data.append(\"user_password\", this.profileEditForm.value.user_password);\n        user_data.append(\"confirm_password\", this.profileEditForm.value.confirm_password); // this.id = this.router.snapshot.paramMap.get('id');\n\n        const data = this.userService.editProfile(this.id, user_data).subscribe(result => {\n          if (result.message == \"Successfully updated the item.\") {\n            this.spinner.hide();\n            this.toastr.success('Success', result.message);\n            this.route.navigateByUrl('/userprofile');\n          }\n        }, err => {\n          this.spinner.hide();\n          this.toastr.error(err.error.message); // console.log(this.errors.message)\n\n          if (err.error.message == 'token not verified') {\n            this.route.navigateByUrl('/login');\n          }\n\n          if (err.error.message == \"Only Admin Can Edit The Post\") {\n            this.spinner.hide();\n            this.toastr.error(err.error.message);\n            this.route.navigateByUrl('/homepage');\n          }\n        });\n      } catch (error) {\n        this.spinner.hide();\n        this.toastr.error(error);\n        return;\n      }\n    }\n\n  }\n\n  ProfileEditorComponent.ɵfac = function ProfileEditorComponent_Factory(t) {\n    return new (t || ProfileEditorComponent)(i0.ɵɵdirectiveInject(i1.BlogPostService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.NgxSpinnerService));\n  };\n\n  ProfileEditorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProfileEditorComponent,\n    selectors: [[\"app-profile-editor\"]],\n    decls: 64,\n    vars: 9,\n    consts: [[\"lang\", \"en\"], [\"rel\", \"stylesheet\", \"href\", \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css\"], [\"rel\", \"stylesheet\", \"href\", \"https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css\"], [1, \"h-100\", \"bg-dark\"], [\"role\", \"navigation\", 1, \"navbar\", \"navbar-default\", \"navbar-inverse\"], [1, \"container-fluid\"], [1, \"navbar-header\"], [\"id\", \"bs-example-navbar-collapse-1\", 1, \"collapse\", \"navbar-collapse\"], [1, \"nav\", \"navbar-nav\", \"navbar-right\"], [1, \"navbar-text\"], [1, \"fa\", \"fa-home\", 2, \"font-size\", \"25px\", \"color\", \"rgb(255, 123, 0)\"], [\"href\", \"/userprofile\"], [1, \"container\", \"py-5\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col\"], [1, \"card\", \"card-registration\", \"my-4\"], [1, \"row\", \"g-0\"], [1, \"col-xl-6\", \"d-none\", \"d-xl-block\"], [\"src\", \"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/img4.webp\", \"alt\", \"Sample photo\", 1, \"img-fluid\", 2, \"border-top-left-radius\", \".25rem\", \"border-bottom-left-radius\", \".25rem\"], [3, \"formGroup\"], [1, \"card-body\", \"p-md-6\", \"text-black\"], [1, \"form-outline\", \"mb-4\"], [\"type\", \"text\", \"id\", \"form3Example3cg\", \"formControlName\", \"user_name\", \"placeholder\", \"Enter Your Full Name\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"form3Example3cg\", 1, \"form-label\"], [\"style\", \"color:red\", 4, \"ngIf\"], [\"type\", \"text\", \"id\", \"form3Example3cg\", \"formControlName\", \"user_gender\", \"placeholder\", \"Enter Your Gender\", 1, \"form-control\", \"form-control-lg\"], [\"type\", \"file\", \"id\", \"form3Example3cg\", \"formControlName\", \"user_profile\", 3, \"change\"], [\"id\", \"blah\", \"alt\", \"your image\", 1, \"form-control\", \"form-control-lg\", 2, \"height\", \"150px\", \"width\", \"150px\", 3, \"src\"], [3, \"src\"], [\"type\", \"text\", \"id\", \"form3Example3cg\", \"formControlName\", \"user_location\", \"placeholder\", \"Enter Your Location\", 1, \"form-control\", \"form-control-lg\"], [\"type\", \"password\", \"id\", \"form3Example4cg\", \"formControlName\", \"user_password\", \"placeholder\", \"Enter Your Password\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"form3Example4cg\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"form3Example4cdg\", \"formControlName\", \"confirm_password\", \"placeholder\", \"Enter your confirm_password\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"form3Example4cdg\", 1, \"form-label\"], [1, \"d-flex\", \"justify-content-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"btn-block\", \"btn-lg\", \"gradient-custom-4\", \"text-body\", 3, \"click\"], [1, \"footer\"], [2, \"color\", \"red\"]],\n    template: function ProfileEditorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0);\n        i0.ɵɵelementStart(1, \"head\");\n        i0.ɵɵelement(2, \"link\", 1);\n        i0.ɵɵelement(3, \"link\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"body\");\n        i0.ɵɵelementStart(5, \"section\", 3);\n        i0.ɵɵelementStart(6, \"nav\", 4);\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵelementStart(9, \"div\", 7);\n        i0.ɵɵelementStart(10, \"ul\", 8);\n        i0.ɵɵelementStart(11, \"li\");\n        i0.ɵɵelementStart(12, \"p\", 9);\n        i0.ɵɵelement(13, \"i\", 10);\n        i0.ɵɵelementStart(14, \"a\", 11);\n        i0.ɵɵelementStart(15, \"b\");\n        i0.ɵɵtext(16, \" Back To Profile Page\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 12);\n        i0.ɵɵelementStart(18, \"div\", 13);\n        i0.ɵɵelementStart(19, \"div\", 14);\n        i0.ɵɵelementStart(20, \"div\", 15);\n        i0.ɵɵelementStart(21, \"div\", 16);\n        i0.ɵɵelementStart(22, \"div\", 17);\n        i0.ɵɵelement(23, \"img\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"form\", 19);\n        i0.ɵɵelementStart(25, \"div\", 20);\n        i0.ɵɵelementStart(26, \"div\", 21);\n        i0.ɵɵelement(27, \"input\", 22);\n        i0.ɵɵelementStart(28, \"label\", 23);\n        i0.ɵɵtext(29, \"Your Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(30, ProfileEditorComponent_div_30_Template, 2, 0, \"div\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 21);\n        i0.ɵɵelement(32, \"input\", 25);\n        i0.ɵɵelementStart(33, \"label\", 23);\n        i0.ɵɵtext(34, \"Gender\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(35, ProfileEditorComponent_div_35_Template, 2, 0, \"div\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"div\", 21);\n        i0.ɵɵelementStart(37, \"input\", 26);\n        i0.ɵɵlistener(\"change\", function ProfileEditorComponent_Template_input_change_37_listener($event) {\n          return ctx.readURL($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(38, \"img\", 27);\n        i0.ɵɵelementStart(39, \"label\", 23);\n        i0.ɵɵtext(40, \"Your Profile Image\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(41, ProfileEditorComponent_div_41_Template, 2, 0, \"div\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(42, \"img\", 28);\n        i0.ɵɵelementStart(43, \"div\", 21);\n        i0.ɵɵelement(44, \"input\", 29);\n        i0.ɵɵelementStart(45, \"label\", 23);\n        i0.ɵɵtext(46, \"Location\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(47, ProfileEditorComponent_div_47_Template, 2, 0, \"div\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"div\", 21);\n        i0.ɵɵelement(49, \"input\", 30);\n        i0.ɵɵelementStart(50, \"label\", 31);\n        i0.ɵɵtext(51, \"New Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(52, ProfileEditorComponent_div_52_Template, 2, 0, \"div\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"div\", 21);\n        i0.ɵɵelement(54, \"input\", 32);\n        i0.ɵɵelementStart(55, \"label\", 33);\n        i0.ɵɵtext(56, \"Confirm Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(57, ProfileEditorComponent_div_57_Template, 2, 0, \"div\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"div\", 34);\n        i0.ɵɵelementStart(59, \"button\", 35);\n        i0.ɵɵlistener(\"click\", function ProfileEditorComponent_Template_button_click_59_listener() {\n          return ctx.update();\n        });\n        i0.ɵɵtext(60, \"Update\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(61, \"div\", 36);\n        i0.ɵɵelementStart(62, \"div\");\n        i0.ɵɵtext(63, \" copyRight@ \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"formGroup\", ctx.profileEditForm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.profileEditForm.get(\"user_name\").invalid && (ctx.profileEditForm.get(\"user_name\").dirty || ctx.profileEditForm.get(\"user_name\").touched));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.profileEditForm.get(\"user_gender\").invalid && (ctx.profileEditForm.get(\"user_gender\").dirty || ctx.profileEditForm.get(\"user_gender\").touched));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"src\", ctx.file, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.profileEditForm.get(\"user_profile\").invalid && (ctx.profileEditForm.get(\"user_profile\").dirty || ctx.profileEditForm.get(\"user_profile\").touched));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"src\", ctx.file.name ? ctx.userImage + ctx.file.name : \"uploads\", i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.profileEditForm.get(\"user_location\").invalid && (ctx.profileEditForm.get(\"user_location\").dirty || ctx.profileEditForm.get(\"user_location\").touched));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.profileEditForm.get(\"user_password\").invalid && (ctx.profileEditForm.get(\"user_password\").dirty || ctx.profileEditForm.get(\"user_password\").touched));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.profileEditForm.get(\"confirm_password\").invalid && (ctx.profileEditForm.get(\"confirm_password\").dirty || ctx.profileEditForm.get(\"confirm_password\").touched));\n      }\n    },\n    directives: [i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.DefaultValueAccessor, i5.NgControlStatus, i5.FormControlName, i6.NgIf],\n    styles: [\".card-registration[_ngcontent-%COMP%]   .select-input.form-control[readonly][_ngcontent-%COMP%]:not([disabled]){font-size:1rem;line-height:2.15;padding-left:.75em;padding-right:.75em}.card-registration[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{top:13px}.header[_ngcontent-%COMP%]{padding:20px;text-align:center;background:rgba(0,0,0,.904);color:#f5f5f5;font-size:20px}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;height:5%;background-color:#1f1d1d;color:#fff;text-align:center}\"]\n  });\n  return ProfileEditorComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}